<script src="../d3/d3.js"></script>

<script>
    window.PlutoniumVisualization = window.PlutoniumVisualization || {};
    /**
     * Behavior for fetching model from JSON from an URL.
     *
     * @polymerBehavior
     */
    PlutoniumVisualization.FetchingBehavior = {
        listeners: {
            'plutonium-fetch': '_onFetch'
        },
        _postFetch: function (error, data) {
            if (error) {
                throw error;
            } else {
                console.log(this.is + ' fetched data succesfully.');
                this.data = data;
            }
        },
        /**
         * Observe `data` object..
         *
         * @param {string} Label expression.
         * @param {function} Function to generate D3 layout.
         * @param {Object} Model object.
         */
        _onFetch: function (event, detail) {
            console.log(this.is + ' fetching data ...');
            this._fetch(detail.url, this._postFetch);
        }
    };
</script>