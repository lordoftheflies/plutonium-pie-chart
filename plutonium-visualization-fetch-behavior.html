<script src="../d3/d3.js"></script>

<link rel="import" href="plutonium-visualization-fetch-csv-behavior.html">
<link rel="import" href="plutonium-visualization-fetch-json-behavior.html">
<link rel="import" href="plutonium-visualization-fetch-tsv-behavior.html">

<script>
    window.PlutoniumVisualization = window.PlutoniumVisualization || {};
    /**
     * Behavior for fetching model from JSON from an URL.
     *
     * @polymerBehavior
     */
    PlutoniumVisualization.FetchBehavior = {
        properties: {
            loading: {
                type: Boolean,
                notify: true,
                value: false
            }
        },
        listeners: {
            'pv-fetch-start': 'onFetchStart',
            'pv-fetch-end': 'onFetchEnd'
        },
        postProcess: function (data) {
            return data;
        },
        onFetchStart: function () {
            this.loading = true;
        },
        onFetchEnd: function () {
            this.loading = false;
        }
    };
    /**
     * Behavior for fetching model from JSON from an URL.
     *
     * @polymerBehavior
     */
    PlutoniumVisualization.FetchUniversalBehavior = [
        PlutoniumVisualization.FetchBehavior,
        PlutoniumVisualization.FetchCsvBehavior,
        PlutoniumVisualization.FetchJsonBehavior,
        PlutoniumVisualization.FetchTsvBehavior
    ];
</script>